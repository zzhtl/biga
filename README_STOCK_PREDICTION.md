# 智能股票预测系统使用指南

## 🎯 系统概述

本系统是一个基于深度学习的股票价格预测平台，采用Rust + Candle深度学习框架构建，具有以下特点：

- **双引擎架构**：支持传统机器学习(linfa)和深度学习(candle)算法
- **真实数据源**：从SQLite数据库获取真实股票历史数据
- **丰富特征工程**：支持12种技术指标特征
- **模型管理**：完整的模型训练、保存、加载、评估流程
- **可视化预测**：直观的图表展示和风险评估

## 🚀 功能特性

### 1. 模型类型支持
- **深度学习模型**：
  - Candle MLP (多层感知机)
  - Candle LSTM (长短期记忆网络)
  - Candle GRU (门控循环单元)
  - Candle Transformer (注意力机制)
- **传统机器学习**：
  - 线性回归
  - 决策树
  - 支持向量机

### 2. 技术指标特征
- 基础指标：收盘价、成交量、涨跌幅
- 移动平均：MA5、MA10、MA20
- 技术指标：RSI、MACD、布林带
- 动量指标：随机K值、随机D值、动量指标

### 3. 智能化功能
- 自动数据质量检查和异常值处理
- 特征标准化和归一化
- 训练进度实时监控
- 模型性能对比分析
- 预测结果可视化展示

## 📖 使用教程

### 步骤1：输入股票代码
在搜索框中输入股票代码，如：`sh000001`（上证指数）

### 步骤2：选择操作模式

#### 模式A：使用现有模型
1. 切换到"使用现有模型"标签
2. 从列表中选择已训练的模型
3. 设置预测天数（1-30天）
4. 点击"开始预测"

#### 模式B：训练新模型
1. 切换到"训练新模型"标签
2. 配置模型参数：
   - **模型名称**：给模型起个有意义的名字
   - **模型类型**：选择深度学习或传统ML算法
   - **历史窗口**：用于训练的历史数据天数
   - **训练参数**：epochs、batch size、学习率等

3. 选择技术指标特征（建议选择5-8个）
4. 点击"开始训练"，观察实时进度

### 步骤3：分析预测结果
- **预测趋势图**：查看价格走势和置信度
- **统计信息**：平均涨幅、置信度、价格区间
- **详细表格**：每日预测数据和风险评级

## ⚙️ 高级配置

### 训练参数优化建议

```javascript
// 快速训练（适合测试）
epochs: 50
batch_size: 16
learning_rate: 0.01

// 高精度训练（适合生产）
epochs: 200
batch_size: 32
learning_rate: 0.001
dropout: 0.2
```

### 特征选择策略

```javascript
// 基础特征组合
["close", "volume", "change_percent", "ma5", "ma20"]

// 技术分析组合
["close", "rsi", "macd", "bollinger", "stochastic_k"]

// 完整特征组合（需要更多数据）
["close", "volume", "change_percent", "ma5", "ma10", "ma20", 
 "rsi", "macd", "bollinger", "stochastic_k", "stochastic_d", "momentum"]
```

## 📊 性能指标说明

### 准确率 (Accuracy)
- **>80%**：高精度模型，可信度高
- **60-80%**：中等精度，需要结合其他指标
- **<60%**：低精度，建议重新训练或调整参数

### 置信度 (Confidence)
- **>80%**：低风险预测
- **60-80%**：中等风险
- **<60%**：高风险，谨慎参考

### 损失函数 (Loss)
- 数值越小表示模型拟合效果越好
- 训练过程中应呈下降趋势

## 🛠️ 技术架构

### 后端技术栈
```rust
// 核心框架
candle-core         // 深度学习框架
candle-nn          // 神经网络层
sqlx               // 数据库ORM
tokio              // 异步运行时
tauri              // 桌面应用框架

// 机器学习
linfa              // 传统ML算法
ndarray            // 数值计算
```

### 前端技术栈
```typescript
// UI框架
Svelte + TypeScript

// 样式
CSS Grid + Flexbox

// 图表（可扩展）
Chart.js / D3.js
```

## 🔧 故障排除

### 常见问题

1. **训练失败：数据不足**
   - 确保历史数据 >= 60天
   - 检查股票代码是否正确

2. **预测准确率低**
   - 增加训练轮数(epochs)
   - 调整学习率
   - 选择更多技术指标

3. **模型加载失败**
   - 检查模型文件是否存在
   - 重新训练模型

### 日志信息
系统会在控制台输出详细的训练和预测日志，可用于问题诊断。

## 📈 最佳实践

1. **数据质量**：定期更新历史数据
2. **特征选择**：根据股票特性选择合适指标
3. **模型对比**：训练多个模型进行效果对比
4. **风险控制**：结合置信度进行投资决策
5. **持续优化**：根据预测效果调整参数

## 🚨 风险提示

⚠️ **重要声明**：
- 本系统仅供学习和研究使用
- 预测结果不构成投资建议
- 股市有风险，投资需谨慎
- 任何投资决策请咨询专业人士

## 🤝 贡献指南

欢迎提交Issue和Pull Request来改进系统：
- 新增模型算法
- 优化特征工程
- 改进用户界面
- 修复Bug和性能优化

---

**开发者**：基于Rust + Candle框架构建  
**版本**：1.0.0  
**最后更新**：2024年 